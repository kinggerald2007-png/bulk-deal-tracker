2025-10-05 00:20:00,199 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 00:20:00,206 - __main__ - INFO - Email client initialized successfully
2025-10-05 00:20:00,206 - __main__ - INFO - ======================================================================
2025-10-05 00:20:00,247 - __main__ - INFO - ======================================================================
2025-10-05 00:20:00,248 - __main__ - INFO - Execution Time: 05 October 2025, 12:20:00 AM IST
2025-10-05 00:20:00,248 - __main__ - INFO - Repository: https://github.com/kinggerald2007-png/bulk-deal-tracker-cloud
2025-10-05 00:20:00,248 - __main__ - INFO - ======================================================================
2025-10-05 00:20:00,249 - __main__ - INFO - 
[STEP 1/5] Fetching data from NSE and BSE...
2025-10-05 00:20:00,249 - __main__ - INFO - ============================================================
2025-10-05 00:20:00,249 - __main__ - INFO - Starting data fetch from NSE and BSE...
2025-10-05 00:20:00,249 - __main__ - INFO - ============================================================
2025-10-05 00:20:00,249 - __main__ - INFO - Fetching NSE data...
2025-10-05 00:20:00,560 - __main__ - INFO - NSE cookies obtained successfully
2025-10-05 00:20:00,561 - __main__ - INFO - Fetching NSE bulk deals for 05-10-2025
2025-10-05 00:20:00,637 - __main__ - ERROR - Error fetching NSE bulk deals: 401 Client Error: Unauthorized for url: https://www.nseindia.com/api/historical/bulk-deals?from=05-10-2025&to=05-10-2025
2025-10-05 00:20:00,675 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 146, in fetch_bulk_deals
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://www.nseindia.com/api/historical/bulk-deals?from=05-10-2025&to=05-10-2025

2025-10-05 00:20:00,799 - __main__ - INFO - NSE cookies obtained successfully
2025-10-05 00:20:00,800 - __main__ - INFO - Fetching NSE block deals for 05-10-2025
2025-10-05 00:20:00,874 - __main__ - ERROR - Error fetching NSE block deals: 401 Client Error: Unauthorized for url: https://www.nseindia.com/api/historical/block-deals?from=05-10-2025&to=05-10-2025
2025-10-05 00:20:00,877 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 196, in fetch_block_deals
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://www.nseindia.com/api/historical/block-deals?from=05-10-2025&to=05-10-2025

2025-10-05 00:20:00,878 - __main__ - INFO - Fetching BSE data...
2025-10-05 00:20:00,879 - __main__ - INFO - Fetching BSE bulk deals for 05/10/2025
2025-10-05 00:20:00,990 - __main__ - ERROR - Error fetching BSE bulk deals: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/bulkdeal.aspx
2025-10-05 00:20:00,993 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 293, in fetch_bulk_deals
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/bulkdeal.aspx

2025-10-05 00:20:00,994 - __main__ - INFO - Fetching BSE block deals for 05/10/2025
2025-10-05 00:20:01,128 - __main__ - ERROR - Error fetching BSE block deals: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/blockdeal.aspx
2025-10-05 00:20:01,132 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 333, in fetch_block_deals
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/blockdeal.aspx

2025-10-05 00:20:01,133 - __main__ - INFO - 
[STEP 2/5] Saving data to CSV files...
2025-10-05 00:20:01,152 - __main__ - INFO - 
[STEP 3/5] Storing data in Supabase database...
2025-10-05 00:20:01,153 - __main__ - WARNING - No data to store in nse_bulk_deals
2025-10-05 00:20:01,153 - __main__ - WARNING - No data to store in nse_block_deals
2025-10-05 00:20:01,153 - __main__ - WARNING - No data to store in bse_bulk_deals
2025-10-05 00:20:01,153 - __main__ - WARNING - No data to store in bse_block_deals
2025-10-05 00:20:01,153 - __main__ - INFO - 
[STEP 4/5] Retrieving summary from database...
2025-10-05 00:20:02,079 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:20:02,080 - __main__ - INFO - Found 0 records in nse_bulk_deals for today
2025-10-05 00:20:02,121 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:20:02,123 - __main__ - INFO - Found 0 records in nse_block_deals for today
2025-10-05 00:20:02,163 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:20:02,165 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 00:20:02,204 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:20:02,206 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 00:20:02,207 - __main__ - INFO - 
[STEP 5/5] Sending email report...
2025-10-05 00:20:03,631 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 00:20:03,632 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 00:20:03,632 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto "<br>                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;". [1:28: <]
2025-10-05 00:20:03,633 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:114: <]
2025-10-05 00:20:03,633 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:164: <]
2025-10-05 00:20:03,633 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:198: <]
2025-10-05 00:20:03,634 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:236: <]
2025-10-05 00:20:03,635 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:257: <]
2025-10-05 00:20:03,635 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 00:20:03,636 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:289: <]
2025-10-05 00:20:03,636 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:330: <]
2025-10-05 00:20:03,636 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:369: <]
2025-10-05 00:20:03,637 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:417: <]
2025-10-05 00:20:03,637 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:461: <]
2025-10-05 00:20:03,637 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:524: <]
2025-10-05 00:20:03,637 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:565: <]
2025-10-05 00:20:03,638 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:586: <]
2025-10-05 00:20:03,638 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 00:20:03,638 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:616: <]
2025-10-05 00:20:03,639 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:702: <]
2025-10-05 00:20:03,639 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:739: <]
2025-10-05 00:20:03,639 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:777: <]
2025-10-05 00:20:03,639 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:820: <]
2025-10-05 00:20:03,640 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:841: <]
2025-10-05 00:20:03,640 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header h1 
2025-10-05 00:20:03,640 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:873: <]
2025-10-05 00:20:03,640 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 28px;'. [1:907: <]
2025-10-05 00:20:03,641 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:947: <]
2025-10-05 00:20:03,641 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:968: <]
2025-10-05 00:20:03,641 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header p 
2025-10-05 00:20:03,641 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 10px 0 0 0;'. [1:999: <]
2025-10-05 00:20:03,641 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    opacity: 0.9;'. [1:1042: <]
2025-10-05 00:20:03,642 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 14px;'. [1:1079: <]
2025-10-05 00:20:03,642 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1119: <]
2025-10-05 00:20:03,642 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1140: <]
2025-10-05 00:20:03,642 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 00:20:03,642 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:1170: <]
2025-10-05 00:20:03,643 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1208: <]
2025-10-05 00:20:03,643 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1229: <]
2025-10-05 00:20:03,643 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 00:20:03,643 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1260: <]
2025-10-05 00:20:03,644 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:1310: <]
2025-10-05 00:20:03,644 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1365: <]
2025-10-05 00:20:03,644 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1403: <]
2025-10-05 00:20:03,644 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1442: <]
2025-10-05 00:20:03,644 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1485: <]
2025-10-05 00:20:03,644 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1506: <]
2025-10-05 00:20:03,645 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary h2 
2025-10-05 00:20:03,645 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 0 10px 0;'. [1:1539: <]
2025-10-05 00:20:03,645 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #333;'. [1:1582: <]
2025-10-05 00:20:03,645 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 24px;'. [1:1618: <]
2025-10-05 00:20:03,645 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1658: <]
2025-10-05 00:20:03,646 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1679: <]
2025-10-05 00:20:03,646 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 00:20:03,646 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1707: <]
2025-10-05 00:20:03,646 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1758: <]
2025-10-05 00:20:03,646 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1795: <]
2025-10-05 00:20:03,646 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 8px;'. [1:1834: <]
2025-10-05 00:20:03,647 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:1877: <]
2025-10-05 00:20:03,647 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1918: <]
2025-10-05 00:20:03,647 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1939: <]
2025-10-05 00:20:03,647 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 00:20:03,648 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1968: <]
2025-10-05 00:20:03,648 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:2006: <]
2025-10-05 00:20:03,648 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:2047: <]
2025-10-05 00:20:03,648 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2104: <]
2025-10-05 00:20:03,649 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2125: <]
2025-10-05 00:20:03,649 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 00:20:03,649 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:2150: <]
2025-10-05 00:20:03,649 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:2200: <]
2025-10-05 00:20:03,649 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:2237: <]
2025-10-05 00:20:03,649 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-transform: uppercase;'. [1:2278: <]
2025-10-05 00:20:03,650 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 12px;'. [1:2328: <]
2025-10-05 00:20:03,650 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    letter-spacing: 0.5px;'. [1:2368: <]
2025-10-05 00:20:03,650 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2414: <]
2025-10-05 00:20:03,650 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2435: <]
2025-10-05 00:20:03,650 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                tr:hover 
2025-10-05 00:20:03,651 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:2465: <]
2025-10-05 00:20:03,651 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2515: <]
2025-10-05 00:20:03,651 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2536: <]
2025-10-05 00:20:03,651 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 00:20:03,651 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:2568: <]
2025-10-05 00:20:03,652 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:2610: <]
2025-10-05 00:20:03,652 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2660: <]
2025-10-05 00:20:03,652 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2681: <]
2025-10-05 00:20:03,652 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 00:20:03,652 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:2710: <]
2025-10-05 00:20:03,653 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px 30px;'. [1:2760: <]
2025-10-05 00:20:03,653 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:2803: <]
2025-10-05 00:20:03,653 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2846: <]
2025-10-05 00:20:03,653 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2882: <]
2025-10-05 00:20:03,653 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2922: <]
2025-10-05 00:20:03,654 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2943: <]
2025-10-05 00:20:03,654 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .badge 
2025-10-05 00:20:03,654 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    display: inline-block;'. [1:2971: <]
2025-10-05 00:20:03,654 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 5px 12px;'. [1:3017: <]
2025-10-05 00:20:03,654 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:3059: <]
2025-10-05 00:20:03,655 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:3109: <]
2025-10-05 00:20:03,655 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 20px;'. [1:3146: <]
2025-10-05 00:20:03,655 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 14px;'. [1:3190: <]
2025-10-05 00:20:03,655 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:3230: <]
2025-10-05 00:20:03,655 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:3271: <]
2025-10-05 00:20:03,655 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:3292: <]
2025-10-05 00:20:03,656 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .no-deals 
2025-10-05 00:20:03,656 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #999;'. [1:3323: <]
2025-10-05 00:20:03,656 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-style: italic;'. [1:3359: <]
2025-10-05 00:20:03,656 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:3402: <]
2025-10-05 00:20:03,656 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:3439: ]
2025-10-05 00:20:03,657 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:3423: <]
2025-10-05 00:20:03,657 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 00:20:03,657 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 00:20:03,657 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 00:20:05,368 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 00:20:05,369 - __main__ - INFO - 
======================================================================
2025-10-05 00:20:05,377 - __main__ - INFO - ======================================================================
2025-10-05 00:20:05,378 - __main__ - INFO - Total Deals Processed: 0
2025-10-05 00:20:05,379 - __main__ - INFO - CSV Files Generated: 0
2025-10-05 00:20:05,380 - __main__ - INFO - ======================================================================
2025-10-05 00:25:50,348 - main - INFO - NSE cookies obtained successfully
2025-10-05 00:25:50,349 - main - INFO - Fetching NSE bulk deals for 03-10-2024
2025-10-05 00:25:50,483 - main - ERROR - Error fetching NSE bulk deals: Expecting value: line 1 column 1 (char 0)
2025-10-05 00:25:50,545 - main - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 974, in json
    return complexjson.loads(self.text, **kwargs)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\json\decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\json\decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 148, in fetch_bulk_deals
    data = response.json()
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 978, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

2025-10-05 00:25:50,686 - main - INFO - NSE cookies obtained successfully
2025-10-05 00:25:50,687 - main - INFO - Fetching NSE block deals for 03-10-2024
2025-10-05 00:25:50,792 - main - WARNING - No block deals data available from NSE for 03-10-2024
2025-10-05 00:25:50,795 - main - INFO - Fetching BSE bulk deals for 03/10/2024
2025-10-05 00:25:51,153 - main - ERROR - Error fetching BSE bulk deals: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/bulkdeal.aspx
2025-10-05 00:25:51,156 - main - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 293, in fetch_bulk_deals
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/bulkdeal.aspx

2025-10-05 00:25:51,158 - main - INFO - Fetching BSE block deals for 03/10/2024
2025-10-05 00:25:51,259 - main - ERROR - Error fetching BSE block deals: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/blockdeal.aspx
2025-10-05 00:25:51,262 - main - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 333, in fetch_block_deals
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/blockdeal.aspx

2025-10-05 00:34:48,723 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 00:34:48,733 - __main__ - INFO - Email client initialized successfully
2025-10-05 00:34:48,733 - __main__ - INFO - ======================================================================
2025-10-05 00:34:48,733 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 00:34:48,733 - __main__ - INFO - ======================================================================
2025-10-05 00:34:48,734 - __main__ - INFO - Execution Time: 05 October 2025, 12:34:48 AM IST
2025-10-05 00:34:48,734 - __main__ - INFO - 
[STEP 1/5] Fetching data...
2025-10-05 00:34:48,734 - __main__ - INFO - Fetching data from NSE...
2025-10-05 00:34:48,734 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 00:34:49,127 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 00:34:49,128 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 00:34:49,194 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 00:34:49,195 - __main__ - INFO - 
[STEP 2/5] Saving to CSV...
2025-10-05 00:34:49,206 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 00:34:49,212 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 00:34:49,213 - __main__ - INFO - 
[STEP 3/5] Storing in Supabase...
2025-10-05 00:34:49,515 - __main__ - ERROR - Error inserting batch into nse_bulk_deals: Object of type date is not JSON serializable
2025-10-05 00:34:49,515 - __main__ - INFO - Successfully stored 0/86 records in nse_bulk_deals
2025-10-05 00:34:49,517 - __main__ - ERROR - Error inserting batch into nse_block_deals: Object of type date is not JSON serializable
2025-10-05 00:34:49,518 - __main__ - INFO - Successfully stored 0/2 records in nse_block_deals
2025-10-05 00:34:49,518 - __main__ - INFO - 
[STEP 4/5] Getting summary...
2025-10-05 00:34:50,243 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:34:50,244 - __main__ - INFO - Found 0 records in nse_bulk_deals for today
2025-10-05 00:34:50,285 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:34:50,286 - __main__ - INFO - Found 0 records in nse_block_deals for today
2025-10-05 00:34:50,351 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:34:50,353 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 00:34:50,394 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:34:50,396 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 00:34:50,397 - __main__ - INFO - 
[STEP 5/5] Sending email...
2025-10-05 00:34:53,454 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 00:34:53,455 - __main__ - INFO - 
======================================================================
2025-10-05 00:34:53,455 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 00:34:53,455 - __main__ - INFO - Total Deals Processed: 0
2025-10-05 00:34:53,456 - __main__ - INFO - CSV Files Generated: 2
2025-10-05 00:34:53,456 - __main__ - INFO - ======================================================================
2025-10-05 00:37:32,522 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 00:37:32,527 - __main__ - INFO - Email client initialized successfully
2025-10-05 00:37:32,527 - __main__ - INFO - ======================================================================
2025-10-05 00:37:32,528 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 00:37:32,528 - __main__ - INFO - ======================================================================
2025-10-05 00:37:32,528 - __main__ - INFO - Execution Time: 05 October 2025, 12:37:32 AM IST
2025-10-05 00:37:32,528 - __main__ - INFO - 
[STEP 1/5] Fetching data...
2025-10-05 00:37:32,528 - __main__ - INFO - Fetching data from NSE...
2025-10-05 00:37:32,528 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 00:37:33,483 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 00:37:33,483 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 00:37:33,590 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 00:37:33,591 - __main__ - INFO - 
[STEP 2/5] Saving to CSV...
2025-10-05 00:37:33,602 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 00:37:33,607 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 00:37:33,608 - __main__ - INFO - 
[STEP 3/5] Storing in Supabase...
2025-10-05 00:37:34,232 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22Remarks%22%2C%22fetch_date%22%2C%22Quantity+Traded%22%2C%22deal_category%22%2C%22source%22%2C%22Symbol%22%2C%22Date%22%2C%22Trade+Price+%2F+Wght.+Avg.+Price%22%2C%22Client+Name%22%2C%22Buy%2FSell%22%2C%22Security+Name%22 "HTTP/2 400 Bad Request"
2025-10-05 00:37:34,235 - __main__ - ERROR - Error inserting batch into nse_bulk_deals: {'message': "Could not find the 'Buy/Sell' column of 'nse_bulk_deals' in the schema cache", 'code': 'PGRST204', 'hint': None, 'details': None}
2025-10-05 00:37:34,236 - __main__ - INFO - Successfully stored 0/86 records in nse_bulk_deals
2025-10-05 00:37:34,278 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22fetch_date%22%2C%22Quantity+Traded%22%2C%22deal_category%22%2C%22source%22%2C%22Symbol%22%2C%22Date%22%2C%22Trade+Price+%2F+Wght.+Avg.+Price%22%2C%22Client+Name%22%2C%22Buy%2FSell%22%2C%22Security+Name%22 "HTTP/2 400 Bad Request"
2025-10-05 00:37:34,280 - __main__ - ERROR - Error inserting batch into nse_block_deals: {'message': "Could not find the 'Buy/Sell' column of 'nse_block_deals' in the schema cache", 'code': 'PGRST204', 'hint': None, 'details': None}
2025-10-05 00:37:34,281 - __main__ - INFO - Successfully stored 0/2 records in nse_block_deals
2025-10-05 00:37:34,282 - __main__ - INFO - 
[STEP 4/5] Getting summary...
2025-10-05 00:37:34,336 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:37:34,339 - __main__ - INFO - Found 0 records in nse_bulk_deals for today
2025-10-05 00:37:34,405 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:37:34,407 - __main__ - INFO - Found 0 records in nse_block_deals for today
2025-10-05 00:37:34,474 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:37:34,476 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 00:37:34,536 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:37:34,539 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 00:37:34,540 - __main__ - INFO - 
[STEP 5/5] Sending email...
2025-10-05 00:37:35,722 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 00:37:35,723 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 00:37:35,723 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 00:37:35,723 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 00:37:35,724 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 00:37:35,724 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 00:37:35,724 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 00:37:35,725 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 00:37:35,725 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 00:37:35,726 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 00:37:35,726 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 00:37:35,726 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 00:37:35,727 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 00:37:35,727 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 00:37:35,727 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 00:37:35,727 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 00:37:35,728 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 00:37:35,728 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 00:37:35,729 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 00:37:35,729 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 00:37:35,729 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 00:37:35,730 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 00:37:35,730 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 00:37:35,730 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 00:37:35,730 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 00:37:35,730 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 00:37:35,731 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 00:37:35,731 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 00:37:35,731 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 00:37:35,731 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 00:37:35,732 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 00:37:35,732 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 00:37:35,732 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 00:37:35,732 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 00:37:35,732 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 00:37:35,733 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 00:37:35,733 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 00:37:35,733 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 00:37:35,733 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 00:37:35,733 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 00:37:35,734 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 00:37:35,734 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 00:37:35,734 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 00:37:35,734 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 00:37:35,734 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 00:37:35,735 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 00:37:35,735 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 00:37:35,735 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 00:37:35,735 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 00:37:35,736 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 00:37:35,736 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 00:37:35,736 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 00:37:35,736 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 00:37:35,736 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 00:37:35,736 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 00:37:35,737 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 00:37:35,737 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 00:37:35,737 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 00:37:35,737 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 00:37:35,738 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 00:37:35,738 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 00:37:35,738 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 00:37:35,738 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 00:37:35,738 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 00:37:35,738 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 00:37:35,739 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 00:37:35,739 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 00:37:35,739 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 00:37:35,739 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 00:37:35,739 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 00:37:35,739 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 00:37:37,499 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 00:37:37,500 - __main__ - INFO - 
======================================================================
2025-10-05 00:37:37,501 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 00:37:37,502 - __main__ - INFO - Total Deals Processed: 0
2025-10-05 00:37:37,502 - __main__ - INFO - CSV Files Generated: 2
2025-10-05 00:37:37,503 - __main__ - INFO - ======================================================================
2025-10-05 00:39:51,944 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 00:39:51,954 - __main__ - INFO - Email client initialized successfully
2025-10-05 00:39:51,954 - __main__ - INFO - ======================================================================
2025-10-05 00:39:51,954 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 00:39:51,954 - __main__ - INFO - ======================================================================
2025-10-05 00:39:51,955 - __main__ - INFO - Execution Time: 05 October 2025, 12:39:51 AM IST
2025-10-05 00:39:51,955 - __main__ - INFO - 
[STEP 1/5] Fetching data...
2025-10-05 00:39:51,955 - __main__ - INFO - Fetching data from NSE...
2025-10-05 00:39:51,955 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 00:39:52,261 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 00:39:52,262 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 00:39:52,340 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 00:39:52,341 - __main__ - INFO - 
[STEP 2/5] Saving to CSV...
2025-10-05 00:39:52,348 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 00:39:52,350 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 00:39:52,350 - __main__ - INFO - 
[STEP 3/5] Storing in Supabase...
2025-10-05 00:39:52,954 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22source%22%2C%22trade_price%22%2C%22quantity_traded%22%2C%22symbol%22%2C%22security_name%22%2C%22deal_category%22%2C%22buy_sell%22%2C%22client_name%22%2C%22fetch_date%22%2C%22deal_date%22%2C%22remarks%22 "HTTP/2 400 Bad Request"
2025-10-05 00:39:52,958 - __main__ - ERROR - Error inserting batch into nse_bulk_deals: {'message': "Could not find the 'buy_sell' column of 'nse_bulk_deals' in the schema cache", 'code': 'PGRST204', 'hint': None, 'details': None}
2025-10-05 00:39:52,959 - __main__ - INFO - Successfully stored 0/86 records in nse_bulk_deals
2025-10-05 00:39:52,998 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22source%22%2C%22trade_price%22%2C%22quantity_traded%22%2C%22symbol%22%2C%22security_name%22%2C%22deal_category%22%2C%22buy_sell%22%2C%22client_name%22%2C%22fetch_date%22%2C%22deal_date%22 "HTTP/2 400 Bad Request"
2025-10-05 00:39:53,000 - __main__ - ERROR - Error inserting batch into nse_block_deals: {'message': "Could not find the 'buy_sell' column of 'nse_block_deals' in the schema cache", 'code': 'PGRST204', 'hint': None, 'details': None}
2025-10-05 00:39:53,001 - __main__ - INFO - Successfully stored 0/2 records in nse_block_deals
2025-10-05 00:39:53,002 - __main__ - INFO - 
[STEP 4/5] Getting summary...
2025-10-05 00:39:53,072 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:39:53,074 - __main__ - INFO - Found 0 records in nse_bulk_deals for today
2025-10-05 00:39:53,115 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:39:53,117 - __main__ - INFO - Found 0 records in nse_block_deals for today
2025-10-05 00:39:53,148 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:39:53,150 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 00:39:53,186 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:39:53,188 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 00:39:53,189 - __main__ - INFO - 
[STEP 5/5] Sending email...
2025-10-05 00:39:54,824 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 00:39:54,825 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 00:39:54,825 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 00:39:54,825 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 00:39:54,826 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 00:39:54,826 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 00:39:54,826 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 00:39:54,827 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 00:39:54,827 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 00:39:54,827 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 00:39:54,828 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 00:39:54,828 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 00:39:54,828 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 00:39:54,829 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 00:39:54,829 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 00:39:54,829 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 00:39:54,830 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 00:39:54,830 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 00:39:54,830 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 00:39:54,831 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 00:39:54,832 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 00:39:54,832 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 00:39:54,835 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 00:39:54,835 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 00:39:54,835 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 00:39:54,836 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 00:39:54,836 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 00:39:54,837 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 00:39:54,837 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 00:39:54,837 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 00:39:54,837 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 00:39:54,838 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 00:39:54,838 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 00:39:54,838 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 00:39:54,839 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 00:39:54,839 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 00:39:54,839 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 00:39:54,839 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 00:39:54,840 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 00:39:54,840 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 00:39:54,840 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 00:39:54,841 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 00:39:54,841 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 00:39:54,841 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 00:39:54,841 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 00:39:54,842 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 00:39:54,842 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 00:39:54,842 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 00:39:54,842 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 00:39:54,843 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 00:39:54,843 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 00:39:54,843 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 00:39:54,843 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 00:39:54,844 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 00:39:54,844 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 00:39:54,844 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 00:39:54,844 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 00:39:54,844 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 00:39:54,845 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 00:39:54,845 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 00:39:54,845 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 00:39:54,845 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 00:39:54,845 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 00:39:54,846 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 00:39:54,846 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 00:39:54,846 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 00:39:54,846 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 00:39:54,846 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 00:39:54,847 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 00:39:54,847 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 00:39:54,847 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 00:39:56,591 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 00:39:56,592 - __main__ - INFO - 
======================================================================
2025-10-05 00:39:56,593 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 00:39:56,594 - __main__ - INFO - Total Deals Processed: 0
2025-10-05 00:39:56,594 - __main__ - INFO - CSV Files Generated: 2
2025-10-05 00:39:56,595 - __main__ - INFO - ======================================================================
2025-10-05 00:41:03,998 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 00:41:04,008 - __main__ - INFO - Email client initialized successfully
2025-10-05 00:41:04,008 - __main__ - INFO - ======================================================================
2025-10-05 00:41:04,009 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 00:41:04,009 - __main__ - INFO - ======================================================================
2025-10-05 00:41:04,009 - __main__ - INFO - Execution Time: 05 October 2025, 12:41:04 AM IST
2025-10-05 00:41:04,009 - __main__ - INFO - 
[STEP 1/5] Fetching data...
2025-10-05 00:41:04,009 - __main__ - INFO - Fetching data from NSE...
2025-10-05 00:41:04,009 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 00:41:04,118 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 00:41:04,119 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 00:41:04,164 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 00:41:04,165 - __main__ - INFO - 
[STEP 2/5] Saving to CSV...
2025-10-05 00:41:04,175 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 00:41:04,179 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 00:41:04,180 - __main__ - INFO - 
[STEP 3/5] Storing in Supabase...
2025-10-05 00:41:04,769 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22fetch_date%22%2C%22trade_price%22%2C%22deal_category%22%2C%22quantity_traded%22%2C%22buy_sell%22%2C%22source%22%2C%22deal_date%22%2C%22remarks%22%2C%22symbol%22%2C%22security_name%22%2C%22client_name%22 "HTTP/2 201 Created"
2025-10-05 00:41:04,790 - __main__ - INFO - Inserted batch of 86 records into nse_bulk_deals
2025-10-05 00:41:04,791 - __main__ - INFO - Successfully stored 86/86 records in nse_bulk_deals
2025-10-05 00:41:04,830 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22fetch_date%22%2C%22trade_price%22%2C%22deal_category%22%2C%22quantity_traded%22%2C%22buy_sell%22%2C%22source%22%2C%22deal_date%22%2C%22symbol%22%2C%22security_name%22%2C%22client_name%22 "HTTP/2 201 Created"
2025-10-05 00:41:04,833 - __main__ - INFO - Inserted batch of 2 records into nse_block_deals
2025-10-05 00:41:04,834 - __main__ - INFO - Successfully stored 2/2 records in nse_block_deals
2025-10-05 00:41:04,834 - __main__ - INFO - 
[STEP 4/5] Getting summary...
2025-10-05 00:41:04,867 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:41:04,880 - __main__ - INFO - Found 86 records in nse_bulk_deals for today
2025-10-05 00:41:04,907 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:41:04,909 - __main__ - INFO - Found 2 records in nse_block_deals for today
2025-10-05 00:41:04,940 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:41:04,941 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 00:41:04,967 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:41:04,968 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 00:41:04,969 - __main__ - INFO - 
[STEP 5/5] Sending email...
2025-10-05 00:41:06,168 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 00:41:06,169 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 00:41:06,169 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 00:41:06,170 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 00:41:06,170 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 00:41:06,170 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 00:41:06,171 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 00:41:06,171 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 00:41:06,172 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 00:41:06,172 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 00:41:06,172 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 00:41:06,172 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 00:41:06,173 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 00:41:06,173 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 00:41:06,173 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 00:41:06,173 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 00:41:06,174 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 00:41:06,174 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 00:41:06,174 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 00:41:06,175 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 00:41:06,175 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 00:41:06,175 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 00:41:06,175 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 00:41:06,175 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 00:41:06,176 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 00:41:06,176 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 00:41:06,176 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 00:41:06,176 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 00:41:06,176 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 00:41:06,177 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 00:41:06,177 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 00:41:06,177 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 00:41:06,177 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 00:41:06,177 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 00:41:06,177 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 00:41:06,178 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 00:41:06,178 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 00:41:06,178 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 00:41:06,178 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 00:41:06,178 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 00:41:06,178 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 00:41:06,179 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 00:41:06,179 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 00:41:06,179 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 00:41:06,179 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 00:41:06,179 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 00:41:06,180 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 00:41:06,180 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 00:41:06,180 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 00:41:06,180 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 00:41:06,180 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 00:41:06,181 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 00:41:06,181 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 00:41:06,181 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 00:41:06,181 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 00:41:06,181 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 00:41:06,182 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 00:41:06,182 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 00:41:06,182 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 00:41:06,182 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 00:41:06,182 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 00:41:06,183 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 00:41:06,183 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 00:41:06,183 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 00:41:06,183 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 00:41:06,183 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 00:41:06,183 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 00:41:06,184 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 00:41:06,184 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 00:41:06,184 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 00:41:06,184 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 00:41:07,946 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 00:41:07,947 - __main__ - INFO - 
======================================================================
2025-10-05 00:41:07,947 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 00:41:07,948 - __main__ - INFO - Total Deals Processed: 88
2025-10-05 00:41:07,949 - __main__ - INFO - CSV Files Generated: 2
2025-10-05 00:41:07,950 - __main__ - INFO - ======================================================================
2025-10-05 00:58:48,160 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 00:58:48,169 - __main__ - INFO - Email client initialized successfully
2025-10-05 00:58:48,169 - __main__ - INFO - ======================================================================
2025-10-05 00:58:48,169 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 00:58:48,169 - __main__ - INFO - WITH INVESTOR MONITORING
2025-10-05 00:58:48,170 - __main__ - INFO - ======================================================================
2025-10-05 00:58:48,170 - __main__ - INFO - Execution Time: 05 October 2025, 12:58:48 AM IST
2025-10-05 00:58:48,170 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 00:58:49,385 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 00:58:49,391 - __main__ - INFO - Found 33 active monitored investors
2025-10-05 00:58:49,391 - __main__ - INFO - Loaded 33 active monitored investors
2025-10-05 00:58:49,391 - __main__ - INFO - 
[STEP 2/6] Fetching data...
2025-10-05 00:58:49,392 - __main__ - INFO - Fetching data from NSE...
2025-10-05 00:58:49,392 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 00:58:50,415 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 00:58:50,416 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 00:58:50,486 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 00:58:50,487 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 00:58:50,602 - __main__ - INFO - Found 18 deals from monitored investors!
2025-10-05 00:58:50,602 - __main__ - INFO - ALERT: Found 18 deals from monitored investors!
2025-10-05 00:58:50,602 - __main__ - INFO - 
[STEP 4/6] Saving to CSV...
2025-10-05 00:58:50,607 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 00:58:50,609 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 00:58:50,609 - __main__ - INFO - 
[STEP 5/6] Storing in Supabase...
2025-10-05 00:58:50,764 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22fetch_date%22%2C%22deal_date%22%2C%22deal_category%22%2C%22symbol%22%2C%22client_name%22%2C%22quantity_traded%22%2C%22source%22%2C%22remarks%22%2C%22buy_sell%22%2C%22trade_price%22%2C%22security_name%22 "HTTP/2 201 Created"
2025-10-05 00:58:50,780 - __main__ - INFO - Inserted batch of 86 records into nse_bulk_deals
2025-10-05 00:58:50,781 - __main__ - INFO - Successfully stored 86/86 records in nse_bulk_deals
2025-10-05 00:58:50,884 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22fetch_date%22%2C%22deal_date%22%2C%22deal_category%22%2C%22symbol%22%2C%22client_name%22%2C%22quantity_traded%22%2C%22source%22%2C%22buy_sell%22%2C%22trade_price%22%2C%22security_name%22 "HTTP/2 201 Created"
2025-10-05 00:58:50,887 - __main__ - INFO - Inserted batch of 2 records into nse_block_deals
2025-10-05 00:58:50,887 - __main__ - INFO - Successfully stored 2/2 records in nse_block_deals
2025-10-05 00:58:50,888 - __main__ - INFO - 
[STEP 6/6] Generating report...
2025-10-05 00:58:50,983 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:58:51,012 - __main__ - INFO - Found 172 records in nse_bulk_deals for today
2025-10-05 00:58:51,091 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:58:51,094 - __main__ - INFO - Found 4 records in nse_block_deals for today
2025-10-05 00:58:51,169 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:58:51,172 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 00:58:51,310 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 00:58:51,312 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 00:58:51,313 - __main__ - INFO - 
Sending email report...
2025-10-05 00:58:53,545 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 00:58:53,545 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 00:58:53,546 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 00:58:53,546 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 00:58:53,546 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 00:58:53,547 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 00:58:53,547 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 00:58:53,548 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 00:58:53,548 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 00:58:53,548 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 00:58:53,549 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 00:58:53,549 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 00:58:53,549 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 00:58:53,550 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 00:58:53,550 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 00:58:53,550 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 00:58:53,550 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 00:58:53,551 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 00:58:53,551 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 00:58:53,551 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 00:58:53,551 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 00:58:53,551 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 00:58:53,551 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 00:58:53,552 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 00:58:53,552 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 00:58:53,552 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 00:58:53,552 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 00:58:53,553 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 00:58:53,553 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 00:58:53,553 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 00:58:53,553 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 00:58:53,553 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 00:58:53,553 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 00:58:53,554 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 00:58:53,554 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 00:58:53,554 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 00:58:53,554 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 00:58:53,554 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 00:58:53,555 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 00:58:53,555 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 00:58:53,555 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 00:58:53,555 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 00:58:53,555 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 00:58:53,556 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 00:58:53,556 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 00:58:53,556 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 00:58:53,556 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 00:58:53,556 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 00:58:53,557 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 00:58:53,557 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 00:58:53,557 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 00:58:53,557 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 00:58:53,557 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 00:58:53,557 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 00:58:53,558 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 00:58:53,558 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 00:58:53,558 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 00:58:53,558 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 00:58:53,558 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 00:58:53,559 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 00:58:53,559 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 00:58:53,559 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 00:58:53,559 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 00:58:53,559 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 00:58:53,559 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 00:58:53,560 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 00:58:53,560 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 00:58:53,560 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 00:58:53,560 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 00:58:53,560 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 00:58:53,560 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 00:58:55,593 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 00:58:55,594 - __main__ - INFO - 
======================================================================
2025-10-05 00:58:55,595 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 00:58:55,596 - __main__ - INFO - Total Deals Processed: 176
2025-10-05 00:58:55,596 - __main__ - INFO - Monitored Investor Alerts: 18
2025-10-05 00:58:55,597 - __main__ - INFO - CSV Files Generated: 2
2025-10-05 00:58:55,598 - __main__ - INFO - ======================================================================
2025-10-05 01:03:51,542 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 01:03:51,551 - __main__ - INFO - Email client initialized successfully
2025-10-05 01:03:51,552 - __main__ - INFO - ======================================================================
2025-10-05 01:03:51,552 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 01:03:51,552 - __main__ - INFO - WITH INVESTOR MONITORING
2025-10-05 01:03:51,552 - __main__ - INFO - ======================================================================
2025-10-05 01:03:51,552 - __main__ - INFO - Execution Time: 05 October 2025, 01:03:51 AM IST
2025-10-05 01:03:51,553 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 01:03:52,433 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 01:03:52,439 - __main__ - INFO - Found 33 active monitored investors
2025-10-05 01:03:52,440 - __main__ - INFO - Loaded 33 active monitored investors
2025-10-05 01:03:52,441 - __main__ - INFO - 
[STEP 2/6] Fetching data...
2025-10-05 01:03:52,442 - __main__ - INFO - Fetching data from NSE...
2025-10-05 01:03:52,442 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 01:03:53,311 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 01:03:53,312 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 01:03:53,365 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 01:03:53,365 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 01:03:53,469 - __main__ - INFO - Found 18 deals from monitored investors!
2025-10-05 01:03:53,469 - __main__ - INFO - ALERT: Found 18 deals from monitored investors!
2025-10-05 01:03:53,469 - __main__ - INFO - 
[STEP 4/6] Saving to CSV...
2025-10-05 01:03:53,474 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 01:03:53,476 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 01:03:53,476 - __main__ - INFO - 
[STEP 5/6] Storing in Supabase...
2025-10-05 01:03:53,601 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22quantity_traded%22%2C%22remarks%22%2C%22deal_date%22%2C%22security_name%22%2C%22client_name%22%2C%22buy_sell%22%2C%22source%22%2C%22deal_category%22%2C%22trade_price%22%2C%22symbol%22%2C%22fetch_date%22 "HTTP/2 201 Created"
2025-10-05 01:03:53,614 - __main__ - INFO - Inserted batch of 86 records into nse_bulk_deals
2025-10-05 01:03:53,614 - __main__ - INFO - Successfully stored 86/86 records in nse_bulk_deals
2025-10-05 01:03:53,698 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22quantity_traded%22%2C%22deal_date%22%2C%22security_name%22%2C%22client_name%22%2C%22buy_sell%22%2C%22source%22%2C%22deal_category%22%2C%22trade_price%22%2C%22symbol%22%2C%22fetch_date%22 "HTTP/2 201 Created"
2025-10-05 01:03:53,701 - __main__ - INFO - Inserted batch of 2 records into nse_block_deals
2025-10-05 01:03:53,702 - __main__ - INFO - Successfully stored 2/2 records in nse_block_deals
2025-10-05 01:03:53,702 - __main__ - INFO - 
[STEP 6/6] Generating report...
2025-10-05 01:03:53,778 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 01:03:53,807 - __main__ - INFO - Found 258 records in nse_bulk_deals for today
2025-10-05 01:03:53,837 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 01:03:53,838 - __main__ - INFO - Found 6 records in nse_block_deals for today
2025-10-05 01:03:53,887 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 01:03:53,889 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 01:03:53,922 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 01:03:53,925 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 01:03:53,926 - __main__ - INFO - 
Sending email report...
2025-10-05 01:03:55,511 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 01:03:55,512 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 01:03:55,512 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 01:03:55,512 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 01:03:55,512 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 01:03:55,513 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 01:03:55,513 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 01:03:55,514 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 01:03:55,514 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 01:03:55,515 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 01:03:55,515 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 01:03:55,515 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 01:03:55,516 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 01:03:55,516 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 01:03:55,516 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 01:03:55,516 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 01:03:55,517 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 01:03:55,517 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 01:03:55,517 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 01:03:55,517 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 01:03:55,517 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 01:03:55,517 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 01:03:55,518 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 01:03:55,518 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 01:03:55,518 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 01:03:55,518 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 01:03:55,518 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 01:03:55,519 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 01:03:55,519 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 01:03:55,519 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 01:03:55,519 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 01:03:55,519 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 01:03:55,520 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 01:03:55,520 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 01:03:55,520 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 01:03:55,520 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 01:03:55,520 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 01:03:55,521 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 01:03:55,521 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 01:03:55,521 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 01:03:55,521 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 01:03:55,521 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 01:03:55,521 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 01:03:55,522 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 01:03:55,522 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 01:03:55,522 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 01:03:55,522 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 01:03:55,522 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 01:03:55,523 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 01:03:55,523 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 01:03:55,523 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 01:03:55,523 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 01:03:55,523 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 01:03:55,524 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 01:03:55,524 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 01:03:55,524 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 01:03:55,524 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 01:03:55,524 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 01:03:55,525 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 01:03:55,525 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 01:03:55,525 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 01:03:55,525 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 01:03:55,525 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 01:03:55,525 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 01:03:55,525 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 01:03:55,526 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 01:03:55,526 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 01:03:55,526 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 01:03:55,526 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 01:03:55,526 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 01:03:55,527 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 01:03:57,567 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 01:03:57,568 - __main__ - INFO - 
======================================================================
2025-10-05 01:03:57,568 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 01:03:57,569 - __main__ - INFO - Total Deals Processed: 264
2025-10-05 01:03:57,570 - __main__ - INFO - Monitored Investor Alerts: 18
2025-10-05 01:03:57,571 - __main__ - INFO - CSV Files Generated: 2
2025-10-05 01:03:57,571 - __main__ - INFO - ======================================================================
2025-10-05 01:14:20,476 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 01:14:20,481 - __main__ - INFO - Email client initialized successfully
2025-10-05 01:14:20,481 - __main__ - INFO - ======================================================================
2025-10-05 01:14:20,481 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 01:14:20,482 - __main__ - INFO - WITH INVESTOR MONITORING
2025-10-05 01:14:20,482 - __main__ - INFO - ======================================================================
2025-10-05 01:14:20,482 - __main__ - INFO - Execution Time: 05 October 2025, 01:14:20 AM IST
2025-10-05 01:14:20,482 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 01:14:21,350 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 01:14:21,354 - __main__ - INFO - Found 33 active monitored investors
2025-10-05 01:14:21,354 - __main__ - INFO - Loaded 33 active monitored investors
2025-10-05 01:14:21,355 - __main__ - INFO - 
[STEP 2/6] Fetching data...
2025-10-05 01:14:21,355 - __main__ - INFO - Fetching data from NSE...
2025-10-05 01:14:21,356 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 01:14:21,811 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 01:14:21,812 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 01:14:21,843 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 01:14:21,843 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 01:14:21,899 - __main__ - INFO - Found 18 deals from monitored investors!
2025-10-05 01:14:21,899 - __main__ - INFO - ALERT: Found 18 deals from monitored investors!
2025-10-05 01:14:21,899 - __main__ - INFO - 
[STEP 4/6] Saving to CSV...
2025-10-05 01:14:21,904 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 01:14:21,906 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 01:14:21,906 - __main__ - INFO - 
[STEP 5/6] Storing in Supabase...
2025-10-05 01:14:21,994 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22deal_category%22%2C%22security_name%22%2C%22remarks%22%2C%22deal_date%22%2C%22buy_sell%22%2C%22client_name%22%2C%22fetch_date%22%2C%22quantity_traded%22%2C%22source%22%2C%22trade_price%22%2C%22symbol%22 "HTTP/2 201 Created"
2025-10-05 01:14:22,005 - __main__ - INFO - Inserted batch of 86 records into nse_bulk_deals
2025-10-05 01:14:22,006 - __main__ - INFO - Successfully stored 86/86 records in nse_bulk_deals
2025-10-05 01:14:22,077 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22deal_category%22%2C%22security_name%22%2C%22deal_date%22%2C%22buy_sell%22%2C%22client_name%22%2C%22fetch_date%22%2C%22quantity_traded%22%2C%22source%22%2C%22trade_price%22%2C%22symbol%22 "HTTP/2 201 Created"
2025-10-05 01:14:22,078 - __main__ - INFO - Inserted batch of 2 records into nse_block_deals
2025-10-05 01:14:22,078 - __main__ - INFO - Successfully stored 2/2 records in nse_block_deals
2025-10-05 01:14:22,078 - __main__ - INFO - 
[STEP 6/6] Generating report...
2025-10-05 01:14:22,158 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 01:14:22,176 - __main__ - INFO - Found 344 records in nse_bulk_deals for today
2025-10-05 01:14:22,250 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 01:14:22,252 - __main__ - INFO - Found 8 records in nse_block_deals for today
2025-10-05 01:14:22,327 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 01:14:22,328 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 01:14:22,406 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 01:14:22,407 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 01:14:22,407 - __main__ - INFO - 
Sending email report...
2025-10-05 01:14:24,040 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 01:14:24,041 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 01:14:24,041 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 01:14:24,041 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 01:14:24,042 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 01:14:24,042 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 01:14:24,042 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 01:14:24,043 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 01:14:24,044 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 01:14:24,044 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 01:14:24,044 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 01:14:24,045 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 01:14:24,045 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 01:14:24,045 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 01:14:24,045 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 01:14:24,046 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 01:14:24,046 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 01:14:24,047 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 01:14:24,047 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 01:14:24,047 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 01:14:24,048 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 01:14:24,048 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 01:14:24,048 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 01:14:24,049 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 01:14:24,049 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 01:14:24,050 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 01:14:24,050 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 01:14:24,051 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 01:14:24,051 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 01:14:24,051 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 01:14:24,051 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 01:14:24,052 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 01:14:24,052 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 01:14:24,052 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 01:14:24,052 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 01:14:24,053 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 01:14:24,053 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 01:14:24,053 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 01:14:24,053 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 01:14:24,053 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 01:14:24,054 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 01:14:24,054 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 01:14:24,054 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 01:14:24,055 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 01:14:24,055 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 01:14:24,055 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 01:14:24,055 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 01:14:24,056 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 01:14:24,056 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 01:14:24,056 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 01:14:24,056 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 01:14:24,056 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 01:14:24,057 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 01:14:24,057 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 01:14:24,057 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 01:14:24,057 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 01:14:24,057 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 01:14:24,058 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 01:14:24,058 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 01:14:24,058 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 01:14:24,058 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 01:14:24,059 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 01:14:24,059 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 01:14:24,059 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 01:14:24,059 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 01:14:24,059 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 01:14:24,059 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 01:14:24,060 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 01:14:24,060 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 01:14:24,060 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 01:14:24,060 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 01:14:26,049 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 01:14:26,050 - __main__ - INFO - 
======================================================================
2025-10-05 01:14:26,050 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 01:14:26,050 - __main__ - INFO - Total Deals Processed: 352
2025-10-05 01:14:26,051 - __main__ - INFO - Monitored Investor Alerts: 18
2025-10-05 01:14:26,051 - __main__ - INFO - CSV Files Generated: 2
2025-10-05 01:14:26,051 - __main__ - INFO - ======================================================================
2025-10-05 11:36:51,432 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 11:36:51,449 - __main__ - INFO - Email client initialized successfully
2025-10-05 11:36:51,450 - __main__ - INFO - ======================================================================
2025-10-05 11:36:51,450 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 11:36:51,450 - __main__ - INFO - WITH INVESTOR MONITORING
2025-10-05 11:36:51,451 - __main__ - INFO - ======================================================================
2025-10-05 11:36:51,451 - __main__ - INFO - Execution Time: 05 October 2025, 11:36:51 AM IST
2025-10-05 11:36:51,451 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 11:36:52,924 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 11:36:52,933 - __main__ - INFO - Found 33 active monitored investors
2025-10-05 11:36:52,933 - __main__ - INFO - Loaded 33 active monitored investors
2025-10-05 11:36:52,934 - __main__ - INFO - 
[STEP 2/6] Fetching data...
2025-10-05 11:36:52,935 - __main__ - INFO - Fetching data from NSE...
2025-10-05 11:36:52,936 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 11:36:53,714 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 11:36:53,715 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 11:36:53,781 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 11:36:53,782 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 11:36:54,021 - __main__ - INFO - Found 18 deals from monitored investors!
2025-10-05 11:36:54,021 - __main__ - INFO - ALERT: Found 18 deals from monitored investors!
2025-10-05 11:36:54,021 - __main__ - INFO - 
[STEP 4/6] Saving to CSV...
2025-10-05 11:36:54,030 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 11:36:54,035 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 11:36:54,035 - __main__ - INFO - 
[STEP 5/6] Storing in Supabase...
2025-10-05 11:36:54,144 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22symbol%22%2C%22quantity_traded%22%2C%22security_name%22%2C%22remarks%22%2C%22source%22%2C%22deal_category%22%2C%22client_name%22%2C%22trade_price%22%2C%22fetch_date%22%2C%22buy_sell%22%2C%22deal_date%22 "HTTP/2 201 Created"
2025-10-05 11:36:54,164 - __main__ - INFO - Inserted batch of 86 records into nse_bulk_deals
2025-10-05 11:36:54,165 - __main__ - INFO - Successfully stored 86/86 records in nse_bulk_deals
2025-10-05 11:36:54,222 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22symbol%22%2C%22quantity_traded%22%2C%22security_name%22%2C%22source%22%2C%22deal_category%22%2C%22client_name%22%2C%22trade_price%22%2C%22fetch_date%22%2C%22buy_sell%22%2C%22deal_date%22 "HTTP/2 201 Created"
2025-10-05 11:36:54,225 - __main__ - INFO - Inserted batch of 2 records into nse_block_deals
2025-10-05 11:36:54,227 - __main__ - INFO - Successfully stored 2/2 records in nse_block_deals
2025-10-05 11:36:54,227 - __main__ - INFO - 
[STEP 6/6] Generating report...
2025-10-05 11:36:54,292 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:36:54,405 - __main__ - INFO - Found 602 records in nse_bulk_deals for today
2025-10-05 11:36:54,481 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:36:54,535 - __main__ - INFO - Found 14 records in nse_block_deals for today
2025-10-05 11:36:54,573 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:36:54,577 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 11:36:54,649 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:36:54,651 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 11:36:54,653 - __main__ - INFO - 
Sending email report...
2025-10-05 11:36:57,447 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 11:36:57,448 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 11:36:57,449 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 11:36:57,449 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 11:36:57,450 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 11:36:57,450 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 11:36:57,451 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 11:36:57,452 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 11:36:57,453 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 11:36:57,453 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 11:36:57,454 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 11:36:57,454 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 11:36:57,455 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 11:36:57,455 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 11:36:57,456 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 11:36:57,456 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 11:36:57,458 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 11:36:57,458 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 11:36:57,459 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 11:36:57,459 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 11:36:57,460 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 11:36:57,460 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 11:36:57,460 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 11:36:57,461 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 11:36:57,462 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 11:36:57,463 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 11:36:57,464 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 11:36:57,465 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 11:36:57,466 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 11:36:57,466 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 11:36:57,467 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 11:36:57,467 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 11:36:57,468 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 11:36:57,468 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 11:36:57,469 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 11:36:57,470 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 11:36:57,470 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 11:36:57,471 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 11:36:57,471 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 11:36:57,472 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 11:36:57,472 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 11:36:57,473 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 11:36:57,474 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 11:36:57,474 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 11:36:57,475 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 11:36:57,475 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 11:36:57,476 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 11:36:57,477 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 11:36:57,477 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 11:36:57,478 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 11:36:57,479 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 11:36:57,480 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 11:36:57,480 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 11:36:57,482 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 11:36:57,483 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 11:36:57,484 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 11:36:57,484 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 11:36:57,485 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 11:36:57,486 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 11:36:57,486 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 11:36:57,487 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 11:36:57,487 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 11:36:57,488 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 11:36:57,488 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 11:36:57,489 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 11:36:57,489 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 11:36:57,490 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 11:36:57,491 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 11:36:57,491 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 11:36:57,492 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 11:36:57,492 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 11:36:59,526 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 11:36:59,527 - __main__ - INFO - 
======================================================================
2025-10-05 11:36:59,528 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 11:36:59,529 - __main__ - INFO - Total Deals Processed: 616
2025-10-05 11:36:59,530 - __main__ - INFO - Monitored Investor Alerts: 18
2025-10-05 11:36:59,531 - __main__ - INFO - CSV Files Generated: 2
2025-10-05 11:36:59,532 - __main__ - INFO - ======================================================================
2025-10-05 11:54:14,901 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 11:54:14,918 - __main__ - INFO - Email client initialized successfully
2025-10-05 11:54:14,918 - __main__ - INFO - ======================================================================
2025-10-05 11:54:14,919 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 11:54:14,919 - __main__ - INFO - WITH BSE SUPPORT AND INVESTOR MONITORING
2025-10-05 11:54:14,919 - __main__ - INFO - ======================================================================
2025-10-05 11:54:14,920 - __main__ - INFO - Execution Time: 05 October 2025, 11:54:14 AM IST
2025-10-05 11:54:14,920 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 11:54:16,213 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 11:54:16,219 - __main__ - INFO - Found 33 active monitored investors
2025-10-05 11:54:16,220 - __main__ - INFO - Loaded 33 active monitored investors
2025-10-05 11:54:16,221 - __main__ - INFO - 
[STEP 2/6] Fetching data from NSE and BSE...
2025-10-05 11:54:16,222 - __main__ - INFO - Fetching data from NSE...
2025-10-05 11:54:16,222 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 11:54:16,869 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 11:54:16,870 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 11:54:16,940 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 11:54:16,941 - __main__ - INFO - Fetching data from BSE...
2025-10-05 11:54:16,942 - __main__ - INFO - Fetching BSE bulk deals for date: 05102025
2025-10-05 11:54:17,076 - __main__ - ERROR - Error fetching BSE bulk deals: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/BulkDeals_data.aspx?expandable=7&date=05102025
2025-10-05 11:54:17,193 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 100, in fetch_bulk_deals
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/BulkDeals_data.aspx?expandable=7&date=05102025

2025-10-05 11:54:17,194 - __main__ - INFO - Fetching BSE block deals for date: 05102025
2025-10-05 11:54:17,286 - __main__ - ERROR - Error fetching BSE block deals: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/BlockDeals_data.aspx?expandable=7&date=05102025
2025-10-05 11:54:17,289 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 141, in fetch_block_deals
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/BlockDeals_data.aspx?expandable=7&date=05102025

2025-10-05 11:54:17,290 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 11:54:17,520 - __main__ - INFO - Found 18 deals from monitored investors!
2025-10-05 11:54:17,520 - __main__ - INFO - ALERT: Found 18 deals from monitored investors!
2025-10-05 11:54:17,521 - __main__ - INFO - 
[STEP 4/6] Saving to CSV...
2025-10-05 11:54:17,531 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 11:54:17,536 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 11:54:17,537 - __main__ - INFO - 
[STEP 5/6] Storing in Supabase...
2025-10-05 11:54:17,650 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22security_name%22%2C%22source%22%2C%22deal_category%22%2C%22fetch_date%22%2C%22trade_price%22%2C%22client_name%22%2C%22symbol%22%2C%22deal_date%22%2C%22remarks%22%2C%22quantity_traded%22%2C%22buy_sell%22 "HTTP/2 201 Created"
2025-10-05 11:54:17,670 - __main__ - INFO - Inserted batch of 86 records into nse_bulk_deals
2025-10-05 11:54:17,675 - __main__ - INFO - Successfully stored 86/86 records in nse_bulk_deals
2025-10-05 11:54:17,727 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22security_name%22%2C%22source%22%2C%22deal_category%22%2C%22fetch_date%22%2C%22trade_price%22%2C%22client_name%22%2C%22symbol%22%2C%22deal_date%22%2C%22quantity_traded%22%2C%22buy_sell%22 "HTTP/2 201 Created"
2025-10-05 11:54:17,730 - __main__ - INFO - Inserted batch of 2 records into nse_block_deals
2025-10-05 11:54:17,731 - __main__ - INFO - Successfully stored 2/2 records in nse_block_deals
2025-10-05 11:54:17,732 - __main__ - WARNING - No data to store in bse_bulk_deals
2025-10-05 11:54:17,733 - __main__ - WARNING - No data to store in bse_block_deals
2025-10-05 11:54:17,734 - __main__ - INFO - 
[STEP 6/6] Generating report...
2025-10-05 11:54:17,797 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:54:17,935 - __main__ - INFO - Found 688 records in nse_bulk_deals for today
2025-10-05 11:54:17,976 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:54:17,980 - __main__ - INFO - Found 16 records in nse_block_deals for today
2025-10-05 11:54:18,013 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:54:18,015 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 11:54:18,044 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:54:18,045 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 11:54:18,046 - __main__ - INFO - 
Sending email report...
2025-10-05 11:54:20,069 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 11:54:20,070 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 11:54:20,071 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 11:54:20,071 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 11:54:20,072 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 11:54:20,072 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 11:54:20,073 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 11:54:20,074 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 11:54:20,075 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 11:54:20,076 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 11:54:20,076 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 11:54:20,077 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 11:54:20,077 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 11:54:20,077 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 11:54:20,078 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 11:54:20,079 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 11:54:20,080 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 11:54:20,081 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 11:54:20,082 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 11:54:20,082 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 11:54:20,083 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 11:54:20,083 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 11:54:20,084 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 11:54:20,085 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 11:54:20,085 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 11:54:20,086 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 11:54:20,086 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 11:54:20,088 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 11:54:20,088 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 11:54:20,089 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 11:54:20,089 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 11:54:20,090 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 11:54:20,090 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 11:54:20,091 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 11:54:20,091 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 11:54:20,092 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 11:54:20,093 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 11:54:20,093 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 11:54:20,094 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 11:54:20,094 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 11:54:20,095 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 11:54:20,096 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 11:54:20,097 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 11:54:20,097 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 11:54:20,098 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 11:54:20,099 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 11:54:20,100 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 11:54:20,101 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 11:54:20,101 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 11:54:20,102 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 11:54:20,102 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 11:54:20,103 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 11:54:20,103 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 11:54:20,105 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 11:54:20,105 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 11:54:20,106 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 11:54:20,106 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 11:54:20,107 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 11:54:20,108 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 11:54:20,108 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 11:54:20,109 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 11:54:20,109 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 11:54:20,110 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 11:54:20,110 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 11:54:20,111 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 11:54:20,111 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 11:54:20,112 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 11:54:20,113 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 11:54:20,113 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 11:54:20,114 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 11:54:20,114 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 11:54:22,460 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 11:54:22,461 - __main__ - INFO - 
======================================================================
2025-10-05 11:54:22,462 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 11:54:22,463 - __main__ - INFO - Total Deals Processed: 704
2025-10-05 11:54:22,464 - __main__ - INFO -   - NSE Bulk: 688
2025-10-05 11:54:22,465 - __main__ - INFO -   - NSE Block: 16
2025-10-05 11:54:22,465 - __main__ - INFO -   - BSE Bulk: 0
2025-10-05 11:54:22,466 - __main__ - INFO -   - BSE Block: 0
2025-10-05 11:54:22,467 - __main__ - INFO - Monitored Investor Alerts: 18
2025-10-05 11:54:22,468 - __main__ - INFO - CSV Files Generated: 2
2025-10-05 11:54:22,468 - __main__ - INFO - ======================================================================
2025-10-05 11:59:07,955 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 11:59:07,973 - __main__ - INFO - Email client initialized successfully
2025-10-05 11:59:07,973 - __main__ - INFO - ======================================================================
2025-10-05 11:59:07,974 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 11:59:07,974 - __main__ - INFO - WITH BSE SUPPORT AND INVESTOR MONITORING
2025-10-05 11:59:07,974 - __main__ - INFO - ======================================================================
2025-10-05 11:59:07,975 - __main__ - INFO - Execution Time: 05 October 2025, 11:59:07 AM IST
2025-10-05 11:59:07,975 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 11:59:09,140 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 11:59:09,148 - __main__ - INFO - Found 33 active monitored investors
2025-10-05 11:59:09,149 - __main__ - INFO - Loaded 33 active monitored investors
2025-10-05 11:59:09,150 - __main__ - INFO - 
[STEP 2/6] Fetching data from NSE and BSE...
2025-10-05 11:59:09,151 - __main__ - INFO - Fetching data from NSE...
2025-10-05 11:59:09,152 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 11:59:09,323 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 11:59:09,324 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 11:59:09,390 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 11:59:09,391 - __main__ - INFO - Fetching data from BSE...
2025-10-05 11:59:09,392 - __main__ - INFO - Fetching BSE bulk deals...
2025-10-05 11:59:10,118 - __main__ - ERROR - Error fetching BSE bulk deals: 'NoneType' object has no attribute 'date'
2025-10-05 11:59:10,147 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 111, in fetch_bulk_deals
    df = self._clean_bulk_deals_data(df, date)
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 177, in _clean_bulk_deals_data
    df['deal_date'] = pd.to_datetime(date, format='%d%m%Y').date()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'date'

2025-10-05 11:59:10,148 - __main__ - INFO - Fetching BSE block deals for date: 05102025
2025-10-05 11:59:10,203 - __main__ - ERROR - Error fetching BSE block deals: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/BlockDeals_data.aspx?expandable=7&date=05102025
2025-10-05 11:59:10,208 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 138, in fetch_block_deals
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://www.bseindia.com/markets/equity/EQReports/BlockDeals_data.aspx?expandable=7&date=05102025

2025-10-05 11:59:10,209 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 11:59:10,358 - __main__ - INFO - Found 18 deals from monitored investors!
2025-10-05 11:59:10,359 - __main__ - INFO - ALERT: Found 18 deals from monitored investors!
2025-10-05 11:59:10,359 - __main__ - INFO - 
[STEP 4/6] Saving to CSV...
2025-10-05 11:59:10,367 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 11:59:10,370 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 11:59:10,371 - __main__ - INFO - 
[STEP 5/6] Storing in Supabase...
2025-10-05 11:59:10,430 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22buy_sell%22%2C%22fetch_date%22%2C%22source%22%2C%22deal_category%22%2C%22security_name%22%2C%22symbol%22%2C%22deal_date%22%2C%22trade_price%22%2C%22remarks%22%2C%22quantity_traded%22%2C%22client_name%22 "HTTP/2 201 Created"
2025-10-05 11:59:10,449 - __main__ - INFO - Inserted batch of 86 records into nse_bulk_deals
2025-10-05 11:59:10,450 - __main__ - INFO - Successfully stored 86/86 records in nse_bulk_deals
2025-10-05 11:59:10,490 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22buy_sell%22%2C%22fetch_date%22%2C%22deal_category%22%2C%22security_name%22%2C%22symbol%22%2C%22deal_date%22%2C%22trade_price%22%2C%22source%22%2C%22quantity_traded%22%2C%22client_name%22 "HTTP/2 201 Created"
2025-10-05 11:59:10,494 - __main__ - INFO - Inserted batch of 2 records into nse_block_deals
2025-10-05 11:59:10,494 - __main__ - INFO - Successfully stored 2/2 records in nse_block_deals
2025-10-05 11:59:10,495 - __main__ - WARNING - No data to store in bse_bulk_deals
2025-10-05 11:59:10,496 - __main__ - WARNING - No data to store in bse_block_deals
2025-10-05 11:59:10,497 - __main__ - INFO - 
[STEP 6/6] Generating report...
2025-10-05 11:59:10,545 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:59:10,685 - __main__ - INFO - Found 774 records in nse_bulk_deals for today
2025-10-05 11:59:10,719 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:59:10,726 - __main__ - INFO - Found 18 records in nse_block_deals for today
2025-10-05 11:59:10,766 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:59:10,769 - __main__ - INFO - Found 0 records in bse_bulk_deals for today
2025-10-05 11:59:10,799 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 11:59:10,802 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 11:59:10,803 - __main__ - INFO - 
Sending email report...
2025-10-05 11:59:12,705 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 11:59:12,705 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 11:59:12,706 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 11:59:12,706 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 11:59:12,707 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 11:59:12,708 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 11:59:12,708 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 11:59:12,710 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 11:59:12,710 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 11:59:12,711 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 11:59:12,711 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 11:59:12,712 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 11:59:12,712 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 11:59:12,713 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 11:59:12,713 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 11:59:12,714 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 11:59:12,715 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 11:59:12,716 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 11:59:12,716 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 11:59:12,717 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 11:59:12,717 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 11:59:12,718 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 11:59:12,718 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 11:59:12,719 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 11:59:12,720 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 11:59:12,720 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 11:59:12,721 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 11:59:12,722 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 11:59:12,722 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 11:59:12,723 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 11:59:12,723 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 11:59:12,724 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 11:59:12,724 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 11:59:12,725 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 11:59:12,725 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 11:59:12,726 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 11:59:12,727 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 11:59:12,727 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 11:59:12,728 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 11:59:12,728 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 11:59:12,729 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 11:59:12,730 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 11:59:12,732 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 11:59:12,732 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 11:59:12,733 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 11:59:12,733 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 11:59:12,734 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 11:59:12,735 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 11:59:12,735 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 11:59:12,736 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 11:59:12,736 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 11:59:12,737 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 11:59:12,737 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 11:59:12,738 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 11:59:12,739 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 11:59:12,739 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 11:59:12,740 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 11:59:12,740 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 11:59:12,741 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 11:59:12,742 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 11:59:12,742 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 11:59:12,743 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 11:59:12,743 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 11:59:12,744 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 11:59:12,744 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 11:59:12,745 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 11:59:12,746 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 11:59:12,746 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 11:59:12,748 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 11:59:12,749 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 11:59:12,749 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 11:59:15,021 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 11:59:15,022 - __main__ - INFO - 
======================================================================
2025-10-05 11:59:15,023 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 11:59:15,024 - __main__ - INFO - Total Deals Processed: 792
2025-10-05 11:59:15,024 - __main__ - INFO -   - NSE Bulk: 774
2025-10-05 11:59:15,025 - __main__ - INFO -   - NSE Block: 18
2025-10-05 11:59:15,026 - __main__ - INFO -   - BSE Bulk: 0
2025-10-05 11:59:15,027 - __main__ - INFO -   - BSE Block: 0
2025-10-05 11:59:15,028 - __main__ - INFO - Monitored Investor Alerts: 18
2025-10-05 11:59:15,029 - __main__ - INFO - CSV Files Generated: 2
2025-10-05 11:59:15,030 - __main__ - INFO - ======================================================================
2025-10-05 12:07:45,084 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 12:07:45,101 - __main__ - INFO - Email client initialized successfully
2025-10-05 12:07:45,102 - __main__ - INFO - ======================================================================
2025-10-05 12:07:45,102 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 12:07:45,102 - __main__ - INFO - WITH BSE SUPPORT AND INVESTOR MONITORING
2025-10-05 12:07:45,103 - __main__ - INFO - ======================================================================
2025-10-05 12:07:45,103 - __main__ - INFO - Execution Time: 05 October 2025, 12:07:45 PM IST
2025-10-05 12:07:45,103 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 12:07:46,458 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 12:07:46,465 - __main__ - INFO - Found 33 active monitored investors
2025-10-05 12:07:46,466 - __main__ - INFO - Loaded 33 active monitored investors
2025-10-05 12:07:46,466 - __main__ - INFO - 
[STEP 2/6] Fetching data from NSE and BSE...
2025-10-05 12:07:46,467 - __main__ - INFO - Fetching data from NSE...
2025-10-05 12:07:46,468 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 12:07:47,290 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 12:07:47,291 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 12:07:47,358 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 12:07:47,359 - __main__ - INFO - Fetching data from BSE...
2025-10-05 12:07:47,359 - __main__ - INFO - Fetching BSE bulk deals...
2025-10-05 12:07:48,621 - __main__ - INFO - Fetched 1 BSE bulk deals
2025-10-05 12:07:48,622 - __main__ - INFO - Fetching BSE block deals...
2025-10-05 12:07:48,732 - __main__ - INFO - Fetched 1 BSE block deals
2025-10-05 12:07:48,733 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 12:07:48,861 - __main__ - ERROR - Fatal error: 'client_name'
2025-10-05 12:07:49,085 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'client_name'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 866, in run
    self.monitored_deals = self.investor_monitor.find_monitored_deals(data)
                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 488, in find_monitored_deals
    matches = df[df['client_name'].str.upper().str.contains(investor['name'], na=False)]
                 ~~^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'client_name'

2025-10-05 12:09:09,045 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 12:09:09,062 - __main__ - INFO - Email client initialized successfully
2025-10-05 12:09:09,063 - __main__ - INFO - ======================================================================
2025-10-05 12:09:09,063 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 12:09:09,064 - __main__ - INFO - WITH BSE SUPPORT AND INVESTOR MONITORING
2025-10-05 12:09:09,064 - __main__ - INFO - ======================================================================
2025-10-05 12:09:09,064 - __main__ - INFO - Execution Time: 05 October 2025, 12:09:09 PM IST
2025-10-05 12:09:09,065 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 12:09:10,120 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 12:09:10,127 - __main__ - INFO - Found 33 active monitored investors
2025-10-05 12:09:10,127 - __main__ - INFO - Loaded 33 active monitored investors
2025-10-05 12:09:10,128 - __main__ - INFO - 
[STEP 2/6] Fetching data from NSE and BSE...
2025-10-05 12:09:10,129 - __main__ - INFO - Fetching data from NSE...
2025-10-05 12:09:10,130 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 12:09:10,539 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 12:09:10,540 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 12:09:10,620 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 12:09:10,620 - __main__ - INFO - Fetching data from BSE...
2025-10-05 12:09:10,621 - __main__ - INFO - Fetching BSE bulk deals...
2025-10-05 12:09:11,807 - __main__ - INFO - BSE bulk deals columns: [0]
2025-10-05 12:09:11,808 - __main__ - WARNING - client_name column not found in BSE bulk deals, adding empty column
2025-10-05 12:09:11,811 - __main__ - INFO - Fetched 1 BSE bulk deals
2025-10-05 12:09:11,812 - __main__ - INFO - Fetching BSE block deals...
2025-10-05 12:09:12,293 - __main__ - INFO - Fetched 1 BSE block deals
2025-10-05 12:09:12,294 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 12:09:12,482 - __main__ - ERROR - Fatal error: 'client_name'
2025-10-05 12:09:12,495 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'client_name'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 874, in run
    self.monitored_deals = self.investor_monitor.find_monitored_deals(data)
                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\DELL\Desktop\bulk_deal_tracker\main.py", line 517, in find_monitored_deals
    matches = df[df['client_name'].str.upper().str.contains(investor['name'], na=False)]
                 ~~^^^^^^^^^^^^^^^
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\pandas\core\frame.py", line 4102, in __getitem__
    indexer = self.columns.get_loc(key)
  File "C:\Users\DELL\AppData\Local\Programs\Python\Python313\Lib\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'client_name'

2025-10-05 12:11:02,415 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 12:11:02,432 - __main__ - INFO - Email client initialized successfully
2025-10-05 12:11:02,432 - __main__ - INFO - ======================================================================
2025-10-05 12:11:02,432 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 12:11:02,433 - __main__ - INFO - WITH BSE SUPPORT AND INVESTOR MONITORING
2025-10-05 12:11:02,433 - __main__ - INFO - ======================================================================
2025-10-05 12:11:02,433 - __main__ - INFO - Execution Time: 05 October 2025, 12:11:02 PM IST
2025-10-05 12:11:02,434 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 12:11:03,578 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 12:11:03,585 - __main__ - INFO - Found 33 active monitored investors
2025-10-05 12:11:03,586 - __main__ - INFO - Loaded 33 active monitored investors
2025-10-05 12:11:03,587 - __main__ - INFO - 
[STEP 2/6] Fetching data from NSE and BSE...
2025-10-05 12:11:03,587 - __main__ - INFO - Fetching data from NSE...
2025-10-05 12:11:03,588 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 12:11:03,999 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 12:11:04,000 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 12:11:04,071 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 12:11:04,072 - __main__ - INFO - Fetching data from BSE...
2025-10-05 12:11:04,072 - __main__ - INFO - Fetching BSE bulk deals...
2025-10-05 12:11:05,155 - __main__ - INFO - Table 0 shape: (1, 1), columns: [0]
2025-10-05 12:11:05,155 - __main__ - INFO - Table 1 shape: (119, 7), columns: ['Deal Date', 'Security Code', 'Security Name', 'Client Name', 'Deal Type *', 'Quantity', 'Price **']
2025-10-05 12:11:05,155 - __main__ - INFO - Using table 1 for bulk deals
2025-10-05 12:11:05,156 - __main__ - INFO - BSE bulk deals columns: ['Deal Date', 'Security Code', 'Security Name', 'Client Name', 'Deal Type *', 'Quantity', 'Price **']
2025-10-05 12:11:05,553 - __main__ - INFO - Fetched 119 BSE bulk deals
2025-10-05 12:11:05,554 - __main__ - INFO - Fetching BSE block deals...
2025-10-05 12:11:05,656 - __main__ - INFO - BSE block deals columns: [0]
2025-10-05 12:11:05,658 - __main__ - WARNING - client_name column not found in BSE block deals, adding empty column
2025-10-05 12:11:05,663 - __main__ - INFO - Fetched 1 BSE block deals
2025-10-05 12:11:05,664 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 12:11:05,908 - __main__ - INFO - Found 23 deals from monitored investors!
2025-10-05 12:11:05,909 - __main__ - INFO - ALERT: Found 23 deals from monitored investors!
2025-10-05 12:11:05,909 - __main__ - INFO - 
[STEP 4/6] Saving to CSV...
2025-10-05 12:11:05,916 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 12:11:05,919 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 12:11:05,923 - __main__ - INFO - Saved BSE_Bulk_Deals_20251005.csv (119 records)
2025-10-05 12:11:05,926 - __main__ - INFO - Saved BSE_Block_Deals_20251005.csv (1 records)
2025-10-05 12:11:05,927 - __main__ - INFO - 
[STEP 5/6] Storing in Supabase...
2025-10-05 12:11:06,015 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22deal_date%22%2C%22deal_category%22%2C%22symbol%22%2C%22quantity_traded%22%2C%22buy_sell%22%2C%22trade_price%22%2C%22fetch_date%22%2C%22security_name%22%2C%22client_name%22%2C%22source%22%2C%22remarks%22 "HTTP/2 201 Created"
2025-10-05 12:11:06,035 - __main__ - INFO - Inserted batch of 86 records into nse_bulk_deals
2025-10-05 12:11:06,036 - __main__ - INFO - Successfully stored 86/86 records in nse_bulk_deals
2025-10-05 12:11:06,080 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22deal_date%22%2C%22deal_category%22%2C%22symbol%22%2C%22quantity_traded%22%2C%22buy_sell%22%2C%22trade_price%22%2C%22fetch_date%22%2C%22security_name%22%2C%22client_name%22%2C%22source%22 "HTTP/2 201 Created"
2025-10-05 12:11:06,083 - __main__ - INFO - Inserted batch of 2 records into nse_block_deals
2025-10-05 12:11:06,084 - __main__ - INFO - Successfully stored 2/2 records in nse_block_deals
2025-10-05 12:11:06,152 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?columns=%22deal_date%22%2C%22deal_category%22%2C%22scrip_name%22%2C%22quantity_traded%22%2C%22buy_sell%22%2C%22trade_price%22%2C%22fetch_date%22%2C%22client_name%22%2C%22source%22%2C%22scrip_code%22 "HTTP/2 201 Created"
2025-10-05 12:11:06,172 - __main__ - INFO - Inserted batch of 100 records into bse_bulk_deals
2025-10-05 12:11:06,216 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?columns=%22deal_date%22%2C%22deal_category%22%2C%22scrip_name%22%2C%22quantity_traded%22%2C%22buy_sell%22%2C%22trade_price%22%2C%22fetch_date%22%2C%22client_name%22%2C%22source%22%2C%22scrip_code%22 "HTTP/2 201 Created"
2025-10-05 12:11:06,223 - __main__ - INFO - Inserted batch of 19 records into bse_bulk_deals
2025-10-05 12:11:06,224 - __main__ - INFO - Successfully stored 119/119 records in bse_bulk_deals
2025-10-05 12:11:06,283 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?columns=%220%22%2C%22deal_date%22%2C%22deal_category%22%2C%22fetch_date%22%2C%22client_name%22%2C%22source%22 "HTTP/2 400 Bad Request"
2025-10-05 12:11:06,286 - __main__ - ERROR - Error inserting batch into bse_block_deals: {'message': "Could not find the '0' column of 'bse_block_deals' in the schema cache", 'code': 'PGRST204', 'hint': None, 'details': None}
2025-10-05 12:11:06,287 - __main__ - INFO - Successfully stored 0/1 records in bse_block_deals
2025-10-05 12:11:06,288 - __main__ - INFO - 
[STEP 6/6] Generating report...
2025-10-05 12:11:06,333 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:11:06,492 - __main__ - INFO - Found 860 records in nse_bulk_deals for today
2025-10-05 12:11:06,524 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:11:06,528 - __main__ - INFO - Found 20 records in nse_block_deals for today
2025-10-05 12:11:06,556 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:11:06,571 - __main__ - INFO - Found 119 records in bse_bulk_deals for today
2025-10-05 12:11:06,608 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:11:06,611 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 12:11:06,612 - __main__ - INFO - 
Sending email report...
2025-10-05 12:11:08,642 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 12:11:08,643 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 12:11:08,644 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 12:11:08,644 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 12:11:08,645 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 12:11:08,645 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 12:11:08,646 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 12:11:08,647 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 12:11:08,648 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 12:11:08,648 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 12:11:08,649 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 12:11:08,649 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 12:11:08,650 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 12:11:08,650 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 12:11:08,651 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 12:11:08,651 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 12:11:08,653 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 12:11:08,653 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 12:11:08,654 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 12:11:08,654 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 12:11:08,655 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 12:11:08,655 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 12:11:08,656 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 12:11:08,657 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 12:11:08,657 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 12:11:08,658 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 12:11:08,658 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 12:11:08,660 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 12:11:08,660 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 12:11:08,661 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 12:11:08,661 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 12:11:08,662 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 12:11:08,663 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 12:11:08,663 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 12:11:08,664 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 12:11:08,665 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 12:11:08,665 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 12:11:08,666 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 12:11:08,666 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 12:11:08,667 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 12:11:08,667 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 12:11:08,668 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 12:11:08,669 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 12:11:08,670 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 12:11:08,670 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 12:11:08,671 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 12:11:08,671 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 12:11:08,672 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 12:11:08,673 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 12:11:08,673 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 12:11:08,674 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 12:11:08,674 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 12:11:08,675 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 12:11:08,676 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 12:11:08,677 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 12:11:08,677 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 12:11:08,677 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 12:11:08,678 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 12:11:08,680 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 12:11:08,681 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 12:11:08,681 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 12:11:08,682 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 12:11:08,682 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 12:11:08,683 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 12:11:08,683 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 12:11:08,684 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 12:11:08,685 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 12:11:08,685 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 12:11:08,686 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 12:11:08,686 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 12:11:08,687 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 12:11:11,110 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 12:11:11,111 - __main__ - INFO - 
======================================================================
2025-10-05 12:11:11,112 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 12:11:11,112 - __main__ - INFO - Total Deals Processed: 999
2025-10-05 12:11:11,113 - __main__ - INFO -   - NSE Bulk: 860
2025-10-05 12:11:11,114 - __main__ - INFO -   - NSE Block: 20
2025-10-05 12:11:11,115 - __main__ - INFO -   - BSE Bulk: 119
2025-10-05 12:11:11,116 - __main__ - INFO -   - BSE Block: 0
2025-10-05 12:11:11,117 - __main__ - INFO - Monitored Investor Alerts: 23
2025-10-05 12:11:11,118 - __main__ - INFO - CSV Files Generated: 4
2025-10-05 12:11:11,118 - __main__ - INFO - ======================================================================
2025-10-05 12:14:30,749 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 12:14:30,765 - __main__ - INFO - Email client initialized successfully
2025-10-05 12:14:30,766 - __main__ - INFO - ======================================================================
2025-10-05 12:14:30,766 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 12:14:30,767 - __main__ - INFO - WITH BSE SUPPORT AND INVESTOR MONITORING
2025-10-05 12:14:30,767 - __main__ - INFO - ======================================================================
2025-10-05 12:14:30,767 - __main__ - INFO - Execution Time: 05 October 2025, 12:14:30 PM IST
2025-10-05 12:14:30,768 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 12:14:32,134 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 12:14:32,141 - __main__ - INFO - Found 34 active monitored investors
2025-10-05 12:14:32,142 - __main__ - INFO - Loaded 34 active monitored investors
2025-10-05 12:14:32,143 - __main__ - INFO - 
[STEP 2/6] Fetching data from NSE and BSE...
2025-10-05 12:14:32,143 - __main__ - INFO - Fetching data from NSE...
2025-10-05 12:14:32,144 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 12:14:33,404 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 12:14:33,405 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 12:14:33,452 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 12:14:33,453 - __main__ - INFO - Fetching data from BSE...
2025-10-05 12:14:33,453 - __main__ - INFO - Fetching BSE bulk deals...
2025-10-05 12:14:34,858 - __main__ - INFO - Table 0 shape: (1, 1), columns: [0]
2025-10-05 12:14:34,859 - __main__ - INFO - Table 1 shape: (119, 7), columns: ['Deal Date', 'Security Code', 'Security Name', 'Client Name', 'Deal Type *', 'Quantity', 'Price **']
2025-10-05 12:14:34,859 - __main__ - INFO - Using table 1 for bulk deals
2025-10-05 12:14:34,859 - __main__ - INFO - BSE bulk deals columns: ['Deal Date', 'Security Code', 'Security Name', 'Client Name', 'Deal Type *', 'Quantity', 'Price **']
2025-10-05 12:14:34,871 - __main__ - INFO - Fetched 119 BSE bulk deals
2025-10-05 12:14:34,872 - __main__ - INFO - Fetching BSE block deals...
2025-10-05 12:14:35,152 - __main__ - INFO - BSE block deals columns: [0]
2025-10-05 12:14:35,154 - __main__ - WARNING - client_name column not found in BSE block deals, adding empty column
2025-10-05 12:14:35,159 - __main__ - INFO - Fetched 1 BSE block deals
2025-10-05 12:14:35,160 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 12:14:35,395 - __main__ - INFO - Found 25 deals from monitored investors!
2025-10-05 12:14:35,396 - __main__ - INFO - ALERT: Found 25 deals from monitored investors!
2025-10-05 12:14:35,396 - __main__ - INFO - 
[STEP 4/6] Saving to CSV...
2025-10-05 12:14:35,403 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 12:14:35,406 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 12:14:35,411 - __main__ - INFO - Saved BSE_Bulk_Deals_20251005.csv (119 records)
2025-10-05 12:14:35,414 - __main__ - INFO - Saved BSE_Block_Deals_20251005.csv (1 records)
2025-10-05 12:14:35,415 - __main__ - INFO - 
[STEP 5/6] Storing in Supabase...
2025-10-05 12:14:35,646 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22trade_price%22%2C%22security_name%22%2C%22remarks%22%2C%22deal_date%22%2C%22deal_category%22%2C%22client_name%22%2C%22buy_sell%22%2C%22quantity_traded%22%2C%22source%22%2C%22fetch_date%22%2C%22symbol%22 "HTTP/2 201 Created"
2025-10-05 12:14:35,666 - __main__ - INFO - Inserted batch of 86 records into nse_bulk_deals
2025-10-05 12:14:35,667 - __main__ - INFO - Successfully stored 86/86 records in nse_bulk_deals
2025-10-05 12:14:35,952 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22trade_price%22%2C%22security_name%22%2C%22deal_date%22%2C%22deal_category%22%2C%22client_name%22%2C%22buy_sell%22%2C%22quantity_traded%22%2C%22source%22%2C%22fetch_date%22%2C%22symbol%22 "HTTP/2 201 Created"
2025-10-05 12:14:35,955 - __main__ - INFO - Inserted batch of 2 records into nse_block_deals
2025-10-05 12:14:35,955 - __main__ - INFO - Successfully stored 2/2 records in nse_block_deals
2025-10-05 12:14:36,073 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?columns=%22trade_price%22%2C%22deal_date%22%2C%22deal_category%22%2C%22buy_sell%22%2C%22client_name%22%2C%22quantity_traded%22%2C%22source%22%2C%22scrip_name%22%2C%22fetch_date%22%2C%22scrip_code%22 "HTTP/2 201 Created"
2025-10-05 12:14:36,093 - __main__ - INFO - Inserted batch of 100 records into bse_bulk_deals
2025-10-05 12:14:36,196 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?columns=%22trade_price%22%2C%22deal_date%22%2C%22deal_category%22%2C%22buy_sell%22%2C%22client_name%22%2C%22quantity_traded%22%2C%22source%22%2C%22scrip_name%22%2C%22fetch_date%22%2C%22scrip_code%22 "HTTP/2 201 Created"
2025-10-05 12:14:36,202 - __main__ - INFO - Inserted batch of 19 records into bse_bulk_deals
2025-10-05 12:14:36,203 - __main__ - INFO - Successfully stored 119/119 records in bse_bulk_deals
2025-10-05 12:14:36,267 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?columns=%220%22%2C%22deal_date%22%2C%22deal_category%22%2C%22client_name%22%2C%22source%22%2C%22fetch_date%22 "HTTP/2 400 Bad Request"
2025-10-05 12:14:36,270 - __main__ - ERROR - Error inserting batch into bse_block_deals: {'message': "Could not find the '0' column of 'bse_block_deals' in the schema cache", 'code': 'PGRST204', 'hint': None, 'details': None}
2025-10-05 12:14:36,271 - __main__ - INFO - Successfully stored 0/1 records in bse_block_deals
2025-10-05 12:14:36,272 - __main__ - INFO - 
[STEP 6/6] Generating report...
2025-10-05 12:14:36,367 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:14:36,511 - __main__ - INFO - Found 946 records in nse_bulk_deals for today
2025-10-05 12:14:36,584 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:14:36,588 - __main__ - INFO - Found 22 records in nse_block_deals for today
2025-10-05 12:14:36,667 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:14:36,692 - __main__ - INFO - Found 238 records in bse_bulk_deals for today
2025-10-05 12:14:36,772 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:14:36,775 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 12:14:36,776 - __main__ - INFO - 
Sending email report...
2025-10-05 12:14:38,764 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 12:14:38,765 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 12:14:38,766 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 12:14:38,766 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 12:14:38,767 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 12:14:38,767 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 12:14:38,768 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 12:14:38,769 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 12:14:38,770 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 12:14:38,770 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 12:14:38,771 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 12:14:38,771 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 12:14:38,772 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 12:14:38,772 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 12:14:38,773 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 12:14:38,773 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 12:14:38,774 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 12:14:38,775 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 12:14:38,775 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 12:14:38,776 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 12:14:38,776 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 12:14:38,777 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 12:14:38,777 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 12:14:38,779 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 12:14:38,779 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 12:14:38,780 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 12:14:38,780 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 12:14:38,781 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 12:14:38,782 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 12:14:38,783 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 12:14:38,783 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 12:14:38,784 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 12:14:38,784 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 12:14:38,784 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 12:14:38,785 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 12:14:38,786 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 12:14:38,787 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 12:14:38,787 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 12:14:38,788 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 12:14:38,788 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 12:14:38,789 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 12:14:38,790 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 12:14:38,790 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 12:14:38,791 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 12:14:38,791 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 12:14:38,792 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 12:14:38,792 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 12:14:38,793 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 12:14:38,794 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 12:14:38,794 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 12:14:38,795 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 12:14:38,796 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 12:14:38,796 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 12:14:38,798 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 12:14:38,798 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 12:14:38,799 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 12:14:38,799 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 12:14:38,800 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 12:14:38,801 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 12:14:38,801 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 12:14:38,802 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 12:14:38,802 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 12:14:38,803 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 12:14:38,803 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 12:14:38,804 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 12:14:38,804 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 12:14:38,805 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 12:14:38,806 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 12:14:38,806 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 12:14:38,807 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 12:14:38,807 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 12:14:41,251 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com']
2025-10-05 12:14:41,251 - __main__ - INFO - 
======================================================================
2025-10-05 12:14:41,252 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 12:14:41,253 - __main__ - INFO - Total Deals Processed: 1206
2025-10-05 12:14:41,254 - __main__ - INFO -   - NSE Bulk: 946
2025-10-05 12:14:41,255 - __main__ - INFO -   - NSE Block: 22
2025-10-05 12:14:41,256 - __main__ - INFO -   - BSE Bulk: 238
2025-10-05 12:14:41,256 - __main__ - INFO -   - BSE Block: 0
2025-10-05 12:14:41,257 - __main__ - INFO - Monitored Investor Alerts: 25
2025-10-05 12:14:41,258 - __main__ - INFO - CSV Files Generated: 4
2025-10-05 12:14:41,259 - __main__ - INFO - ======================================================================
2025-10-05 12:21:33,500 - __main__ - INFO - Supabase client initialized successfully
2025-10-05 12:21:33,513 - __main__ - INFO - Email client initialized successfully
2025-10-05 12:21:33,513 - __main__ - INFO - ======================================================================
2025-10-05 12:21:33,514 - __main__ - INFO - STARTING DAILY BULK & BLOCK DEALS AUTOMATION
2025-10-05 12:21:33,514 - __main__ - INFO - WITH BSE SUPPORT AND INVESTOR MONITORING
2025-10-05 12:21:33,515 - __main__ - INFO - ======================================================================
2025-10-05 12:21:33,515 - __main__ - INFO - Execution Time: 05 October 2025, 12:21:33 PM IST
2025-10-05 12:21:33,515 - __main__ - INFO - 
[STEP 1/6] Loading monitored investors...
2025-10-05 12:21:34,674 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/monitored_investors?select=investor_name%2Cdisplay_name%2Ccategory%2Cpriority&is_active=eq.True "HTTP/2 200 OK"
2025-10-05 12:21:34,680 - __main__ - INFO - Found 34 active monitored investors
2025-10-05 12:21:34,681 - __main__ - INFO - Loaded 34 active monitored investors
2025-10-05 12:21:34,682 - __main__ - INFO - 
[STEP 2/6] Fetching data from NSE and BSE...
2025-10-05 12:21:34,683 - __main__ - INFO - Fetching data from NSE...
2025-10-05 12:21:34,683 - __main__ - INFO - Fetching NSE bulk deals...
2025-10-05 12:21:35,147 - __main__ - INFO - Fetched 86 NSE bulk deals
2025-10-05 12:21:35,148 - __main__ - INFO - Fetching NSE block deals...
2025-10-05 12:21:35,219 - __main__ - INFO - Fetched 2 NSE block deals
2025-10-05 12:21:35,220 - __main__ - INFO - Fetching data from BSE...
2025-10-05 12:21:35,221 - __main__ - INFO - Fetching BSE bulk deals...
2025-10-05 12:21:35,428 - __main__ - INFO - Table 0 shape: (1, 1), columns: [0]
2025-10-05 12:21:35,428 - __main__ - INFO - Table 1 shape: (119, 7), columns: ['Deal Date', 'Security Code', 'Security Name', 'Client Name', 'Deal Type *', 'Quantity', 'Price **']
2025-10-05 12:21:35,429 - __main__ - INFO - Using table 1 for bulk deals
2025-10-05 12:21:35,429 - __main__ - INFO - BSE bulk deals columns: ['Deal Date', 'Security Code', 'Security Name', 'Client Name', 'Deal Type *', 'Quantity', 'Price **']
2025-10-05 12:21:35,440 - __main__ - INFO - Fetched 119 BSE bulk deals
2025-10-05 12:21:35,441 - __main__ - INFO - Fetching BSE block deals...
2025-10-05 12:21:35,551 - __main__ - INFO - BSE block deals columns: [0]
2025-10-05 12:21:35,553 - __main__ - WARNING - client_name column not found in BSE block deals, adding empty column
2025-10-05 12:21:35,558 - __main__ - INFO - Fetched 1 BSE block deals
2025-10-05 12:21:35,559 - __main__ - INFO - 
[STEP 3/6] Checking for monitored investor activity...
2025-10-05 12:21:35,854 - __main__ - INFO - Found 25 deals from monitored investors!
2025-10-05 12:21:35,855 - __main__ - INFO - ALERT: Found 25 deals from monitored investors!
2025-10-05 12:21:35,855 - __main__ - INFO - 
[STEP 4/6] Saving to CSV...
2025-10-05 12:21:35,863 - __main__ - INFO - Saved NSE_Bulk_Deals_20251005.csv (86 records)
2025-10-05 12:21:35,866 - __main__ - INFO - Saved NSE_Block_Deals_20251005.csv (2 records)
2025-10-05 12:21:35,870 - __main__ - INFO - Saved BSE_Bulk_Deals_20251005.csv (119 records)
2025-10-05 12:21:35,873 - __main__ - INFO - Saved BSE_Block_Deals_20251005.csv (1 records)
2025-10-05 12:21:35,874 - __main__ - INFO - 
[STEP 5/6] Storing in Supabase...
2025-10-05 12:21:35,987 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?columns=%22security_name%22%2C%22deal_date%22%2C%22buy_sell%22%2C%22fetch_date%22%2C%22client_name%22%2C%22symbol%22%2C%22remarks%22%2C%22quantity_traded%22%2C%22source%22%2C%22trade_price%22%2C%22deal_category%22 "HTTP/2 201 Created"
2025-10-05 12:21:36,007 - __main__ - INFO - Inserted batch of 86 records into nse_bulk_deals
2025-10-05 12:21:36,008 - __main__ - INFO - Successfully stored 86/86 records in nse_bulk_deals
2025-10-05 12:21:36,101 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?columns=%22security_name%22%2C%22deal_date%22%2C%22buy_sell%22%2C%22fetch_date%22%2C%22client_name%22%2C%22symbol%22%2C%22quantity_traded%22%2C%22source%22%2C%22trade_price%22%2C%22deal_category%22 "HTTP/2 201 Created"
2025-10-05 12:21:36,104 - __main__ - INFO - Inserted batch of 2 records into nse_block_deals
2025-10-05 12:21:36,105 - __main__ - INFO - Successfully stored 2/2 records in nse_block_deals
2025-10-05 12:21:36,204 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?columns=%22buy_sell%22%2C%22deal_date%22%2C%22fetch_date%22%2C%22client_name%22%2C%22scrip_name%22%2C%22scrip_code%22%2C%22quantity_traded%22%2C%22source%22%2C%22trade_price%22%2C%22deal_category%22 "HTTP/2 201 Created"
2025-10-05 12:21:36,224 - __main__ - INFO - Inserted batch of 100 records into bse_bulk_deals
2025-10-05 12:21:36,268 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?columns=%22buy_sell%22%2C%22deal_date%22%2C%22fetch_date%22%2C%22client_name%22%2C%22scrip_name%22%2C%22scrip_code%22%2C%22quantity_traded%22%2C%22source%22%2C%22trade_price%22%2C%22deal_category%22 "HTTP/2 201 Created"
2025-10-05 12:21:36,274 - __main__ - INFO - Inserted batch of 19 records into bse_bulk_deals
2025-10-05 12:21:36,275 - __main__ - INFO - Successfully stored 119/119 records in bse_bulk_deals
2025-10-05 12:21:36,328 - httpx - INFO - HTTP Request: POST https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?columns=%220%22%2C%22deal_date%22%2C%22fetch_date%22%2C%22client_name%22%2C%22source%22%2C%22deal_category%22 "HTTP/2 400 Bad Request"
2025-10-05 12:21:36,331 - __main__ - ERROR - Error inserting batch into bse_block_deals: {'message': "Could not find the '0' column of 'bse_block_deals' in the schema cache", 'code': 'PGRST204', 'hint': None, 'details': None}
2025-10-05 12:21:36,332 - __main__ - INFO - Successfully stored 0/1 records in bse_block_deals
2025-10-05 12:21:36,332 - __main__ - INFO - 
[STEP 6/6] Generating report...
2025-10-05 12:21:36,404 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 206 Partial Content"
2025-10-05 12:21:36,562 - __main__ - INFO - Found 1032 records in nse_bulk_deals for today
2025-10-05 12:21:36,606 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/nse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:21:36,610 - __main__ - INFO - Found 24 records in nse_block_deals for today
2025-10-05 12:21:36,682 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_bulk_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:21:36,747 - __main__ - INFO - Found 357 records in bse_bulk_deals for today
2025-10-05 12:21:36,781 - httpx - INFO - HTTP Request: GET https://tyibyuwusjpogfknameh.supabase.co/rest/v1/bse_block_deals?select=%2A&fetch_date=eq.2025-10-05 "HTTP/2 200 OK"
2025-10-05 12:21:36,784 - __main__ - INFO - Found 0 records in bse_block_deals for today
2025-10-05 12:21:36,784 - __main__ - INFO - 
Sending email report...
2025-10-05 12:21:38,760 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1: <]
2025-10-05 12:21:38,761 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                body 
2025-10-05 12:21:38,762 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-family: Arial, sans-serif;'. [1:27: <]
2025-10-05 12:21:38,762 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f5f5f5;'. [1:82: <]
2025-10-05 12:21:38,763 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0;'. [1:132: <]
2025-10-05 12:21:38,763 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:166: <]
2025-10-05 12:21:38,764 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:204: <]
2025-10-05 12:21:38,765 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:225: <]
2025-10-05 12:21:38,766 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .container 
2025-10-05 12:21:38,766 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    max-width: 800px;'. [1:257: <]
2025-10-05 12:21:38,767 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 0 auto;'. [1:298: <]
2025-10-05 12:21:38,767 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: white;'. [1:337: <]
2025-10-05 12:21:38,768 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 10px;'. [1:385: <]
2025-10-05 12:21:38,768 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    box-shadow: 0 2px 10px rgba(0,0,0,0.1);'. [1:429: <]
2025-10-05 12:21:38,768 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    overflow: hidden;'. [1:492: <]
2025-10-05 12:21:38,769 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:533: <]
2025-10-05 12:21:38,770 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:554: <]
2025-10-05 12:21:38,771 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .header 
2025-10-05 12:21:38,771 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);'. [1:583: <]
2025-10-05 12:21:38,772 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:669: <]
2025-10-05 12:21:38,772 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:706: <]
2025-10-05 12:21:38,773 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:744: <]
2025-10-05 12:21:38,773 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:787: <]
2025-10-05 12:21:38,774 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:808: <]
2025-10-05 12:21:38,775 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .content 
2025-10-05 12:21:38,775 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 30px;'. [1:838: <]
2025-10-05 12:21:38,776 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:876: <]
2025-10-05 12:21:38,777 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:897: <]
2025-10-05 12:21:38,778 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .summary 
2025-10-05 12:21:38,779 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:927: <]
2025-10-05 12:21:38,779 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-left: 4px solid #667eea;'. [1:977: <]
2025-10-05 12:21:38,780 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1032: <]
2025-10-05 12:21:38,780 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1070: <]
2025-10-05 12:21:38,781 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-radius: 5px;'. [1:1109: <]
2025-10-05 12:21:38,782 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1152: <]
2025-10-05 12:21:38,783 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1173: <]
2025-10-05 12:21:38,783 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                table 
2025-10-05 12:21:38,784 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-collapse: collapse;'. [1:1200: <]
2025-10-05 12:21:38,784 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    width: 100%;'. [1:1250: <]
2025-10-05 12:21:38,785 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    margin: 20px 0;'. [1:1286: <]
2025-10-05 12:21:38,785 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1325: <]
2025-10-05 12:21:38,786 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1346: <]
2025-10-05 12:21:38,787 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th
2025-10-05 12:21:38,787 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 15px;'. [1:1374: <]
2025-10-05 12:21:38,788 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: left;'. [1:1412: <]
2025-10-05 12:21:38,788 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    border-bottom: 1px solid #e0e0e0;'. [1:1453: <]
2025-10-05 12:21:38,789 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1510: <]
2025-10-05 12:21:38,790 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1531: <]
2025-10-05 12:21:38,790 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                th 
2025-10-05 12:21:38,791 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #667eea;'. [1:1555: <]
2025-10-05 12:21:38,791 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: white;'. [1:1605: <]
2025-10-05 12:21:38,792 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: 600;'. [1:1642: <]
2025-10-05 12:21:38,792 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1683: <]
2025-10-05 12:21:38,793 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1704: <]
2025-10-05 12:21:38,794 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .total-row 
2025-10-05 12:21:38,795 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-weight: bold;'. [1:1736: <]
2025-10-05 12:21:38,796 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f0f0f0;'. [1:1778: <]
2025-10-05 12:21:38,796 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:1828: <]
2025-10-05 12:21:38,798 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:1849: <]
2025-10-05 12:21:38,798 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>                .footer 
2025-10-05 12:21:38,799 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    background-color: #f8f9fa;'. [1:1878: <]
2025-10-05 12:21:38,799 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    padding: 20px;'. [1:1928: <]
2025-10-05 12:21:38,800 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    text-align: center;'. [1:1966: <]
2025-10-05 12:21:38,800 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    color: #666;'. [1:2009: <]
2025-10-05 12:21:38,801 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                    font-size: 13px;'. [1:2045: <]
2025-10-05 12:21:38,801 - CSSUTILS - ERROR - CSSStyleDeclaration: Unexpected token, ignoring upto '<br>                '. [1:2085: <]
2025-10-05 12:21:38,802 - CSSUTILS - ERROR - CSSStyleRule: No start { of style declaration found: '<br>            ' [1:2122: ]
2025-10-05 12:21:38,803 - CSSUTILS - ERROR - Selector: Unexpected CHAR. [1:2106: <]
2025-10-05 12:21:38,803 - CSSUTILS - ERROR - Selector: Cannot end with combinator: <br>            
2025-10-05 12:21:38,804 - CSSUTILS - ERROR - SelectorList: Invalid Selector: <br>            
2025-10-05 12:21:38,804 - CSSUTILS - ERROR - CSSStyleRule: No style declaration or "}" found: '<br>            '
2025-10-05 12:21:41,652 - __main__ - INFO - Email report sent successfully to ['king.gerald2007@gmail.com', 'mahesh22an@gmail.com']
2025-10-05 12:21:41,653 - __main__ - INFO - 
======================================================================
2025-10-05 12:21:41,654 - __main__ - INFO - AUTOMATION COMPLETED SUCCESSFULLY!
2025-10-05 12:21:41,655 - __main__ - INFO - Total Deals Processed: 1413
2025-10-05 12:21:41,656 - __main__ - INFO -   - NSE Bulk: 1032
2025-10-05 12:21:41,656 - __main__ - INFO -   - NSE Block: 24
2025-10-05 12:21:41,657 - __main__ - INFO -   - BSE Bulk: 357
2025-10-05 12:21:41,658 - __main__ - INFO -   - BSE Block: 0
2025-10-05 12:21:41,659 - __main__ - INFO - Monitored Investor Alerts: 25
2025-10-05 12:21:41,659 - __main__ - INFO - CSV Files Generated: 4
2025-10-05 12:21:41,660 - __main__ - INFO - ======================================================================
